<!DOCTYPE html>

<html lang="ja">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Quiz</title>
    </head>

    <body>
        <!-- 問題番号の表示 -->
        <h1>クイズ {{ quiz_id }}</h1>

        <p>問題： {{ quiz.question }}</p>

        {% if not answerd %}
            <!-- 回答がなければフォームを表示 -->
            <form method="POST">
                {% for choice in [quiz.choice1, quiz.choice2, quiz.choice3, quiz.choice4] %}
                    <label>
                        <input type="radio" name="choice" value="{{ choice }}" required>
                        {{ choice }}
                    </label><br>
                {% endfor %}
                <button type="submit">回答する</button>
            </form>
        {% else %}
            <!-- 回答済み：結果を表示して、ユーザーが次へ進む -->
            <p><strong>{{ result }}</strong></p>
            
            {% if next_id %}
                <a href="{{ url_for('quiz', question_id=next_id) }}">次の問題へ</a>
            {% else %}
                <p>全問終了です。お疲れさまでした！</p>
                <a href="{{ url_for('index') }}">トップページに戻る</a>
            {% endif %}
    
        {% endif %}
    </body>

</html>